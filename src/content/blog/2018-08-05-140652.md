---
title: 入社して1年半くらいで自分の手で世に出した機能を自慢しておこうと思う
description: 入社して1年半くらいで自分の手で世に出した機能を自慢しておこうと思う
pubDate: 08/07/2018 15:05:02
category: ['ポエム']
heroImage: ""
---
<p>メルカリに入社して1年半くらい経ったのだけど、7月から1年近くいたチームから別のチームに移ることになった。</p>

<p>かなりドラスティックに組織を変えていく文化の中で1年間同じチームにいたのは社内でも稀有な経験だったこと、前職でも1年間同じチームにいたことはなかったことから自分にとって大きめの節目なので、転職するときの意志として強かった「自分の手で人に自慢できる機能を世に出したい」ということがどれくらいできたか勝手に振り返ってみる。</p>

<p>細々した機能から大きめの機能まであるけど全部語れないのでいくつかメモしておく。</p>

<p>試しに入社してから今日までにmergeされたPRの数を数えたら408個だった。土日含めて一日0.7個のPRをリリースしてる計算らしい。</p>

EXTENDED BODY:

<h2>メルカリチャンネル</h2>

<p><a href="https://www.mercari.com/jp/mercari-channel/">メルカリチャンネル</a></p>

<p>とにもかくにもこれが一番大きい機能であり、かけがえのない経験だった。</p>

<p>新規サービスで使ったことのない技術にチャレンジして、短い期間でリリースするという会社の中でもそう多くない機会をもらえた機能だったし、この1年間はずっとこの機能をどうよくするか頭を捻り続けてきた日々だった。</p>

<p>これを開発できてよかったのは、なんだかんだ大きくなったうちの会社の中で以下のようなサイクルを経験できたこと。</p>

<ul>
<li>タイトなリソースとスケジュールの中で新しい技術を使いこなしてリリースまでこぎつける</li>
<li>リリースした機能をアプリケーション運用の幅を超えて面倒を見る</li>
<li>エンジニアの立場からアプリの機能に意見したりアイディアを出して実現していく</li>
<li>短い<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A4%A5%C6%A5%EC%A1%BC%A5%B7%A5%E7%A5%F3">イテレーション</a>の中で勝ち筋を模索し、日々チームメンバーと一喜一憂する</li>
</ul>


<p>こういう機能、当然リリースしたらはい終わり、ではなくてそこがスタート地点で、そこからどう這い上がるのかを考えるのが本当につら楽しかった。</p>

<p>機能出た！お客さまに使われ、ない！どう改善しよう！売上やばい！どう改善しよう！みたいなのを本当に2,3日サイクルでやっててカオスだった。</p>

<p>この後にメモる機能のほとんどはこのチームで作ったものです。</p>

<h2>フォロー機能</h2>

<p>いつからか、しれっとフォロー機能が追加されてると思いますがこの機能のバックエンドの実装は私がやりました。</p>

<p>実は日本で実装する前からUSメルカリでは実装されていたので「コード持ってきて終わりだろう」ぐらいの気持ちで3日くらいで見積もったら<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C8%A5%E9%A5%D5%A5%A3%A5%C3%A5%AF">トラフィック</a>やユーザ数の規模を考えると全くもって流用できないことがわかり、結局2週間くらいかけた機能でした。</p>

<p>この機能が印象深いのは「世に出したらたくさんのお客さまに使われてる」こと、かつメルカリチャンネルを大きく後押しする機能になったことです。</p>

<p>あとは設計で迷った時にSREチームに相談しにいったとき、気持ちいいくらいにスパンと答えを出してもらいいつか私もこんなエンジニアになりたいと心底思ったとともにこんな人と働ける今の環境に心底感謝したこともよく覚えてます。</p>

<h2><a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a>のリアルISUCON</h2>

<p>メルカリチャンネルのエンドポイントで<a class="keyword" href="http://d.hatena.ne.jp/keyword/memcached">memcached</a>やDBへのアクセスが多すぎる<a class="keyword" href="http://d.hatena.ne.jp/keyword/API">API</a>がいくつかあったのでその対策をしたのもとても楽しかった。</p>

<p>お客さまへの目に見える機能追加ではないけど、様々なmetricsやコードリーディングからちょこちょこ相談しつつコードを改善。</p>

<p>リリースした直後にNew RelicのResponse Timeががくんと下がってるのを見たときは本当に気持ちよかったです。</p>

<p>何回かやったうち、30msくらい早くなったときとかはたかだか30msかもしれないけどうちの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C8%A5%E9%A5%D5%A5%A3%A5%C3%A5%AF">トラフィック</a>(<a href="https://go-talks.appspot.com/github.com/tcnksm/talks/2018/07/mercarigo/microservices-api-gateway.slide#51">ピーク時約56,000req/sec</a>)に対してのこの改善はかなりでかいしエンジニアリングできてる、と感じられてよかった。</p>

<h2>Reactで作られたページのバグ修正</h2>

<p>Backendエンジニアでありながら3時間ぐらいコードとにらめっこして直したときはドヤ顔で退勤した。</p>

<p><blockquote class="twitter-tweet" data-lang="HASH(0xc484e08)"><p lang="ja" dir="ltr">難易度高すぎるバグ踏み抜いて両足吹き飛んでるしそれでもめげずにきちんと調査して修正してるので誰かまじで褒めて欲しいし頭なでてほしいし14万円欲しい</p>&mdash; きりん / kirin (@sota1235) <a href="https://twitter.com/sota1235/status/938731736552284160?ref_src=twsrc%5Etfw">December 7, 2017</a></blockquote><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<h2>その他いろいろ</h2>

<p>いろいろもっとあるんだけどキリが無いのでこのへんにしておく。</p>

<p>次のQは本当にまた新しいチャレンジで日々自分の知識と経験の無さに打ちひしがれてるし勉強勉強勉強って感じだけどどうにか形にしてまたドヤ顔でポエム記事を書きたい。</p>

<p>各位これからもよろしくおねがいします。</p>

<h2>※<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C4%C9%B5%AD">追記</a></h2>

<ul>
<li><code>Reactのバグ修正</code>だとReactライブラリの修正したみたいに捉えられるのですがそういうわけではないので少し言い回し変えました</li>
<li>14万円の出どころどこだというコメント見かけたのですが知りたい方は<code>きりん 14万円</code>で調べてください</li>
</ul>


COMMENT:
すごいですね！！
取り組んでる期間は関係ないよなって改めて感じました。
わたしもチャレンジします！
